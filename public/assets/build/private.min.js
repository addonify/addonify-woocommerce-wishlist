!function(t){"function"==typeof define&&define.amd?define(t):t()}((function(){"use strict";var t;(t=jQuery)(document).ready((function(){var i=t("body"),o=t("#addonify-wishlist-sticky-sidebar-container"),d=t("#addonify-wishlist-table"),e=addonifyWishlistJSObject,s=e.enabledMultiWishlist,n=e.ajaxURL,a=e.nonce,l=e.addToWishlistAction,c=e.removeFromWishlistAction,r=e.emptyWishlistAction,u=e.removeFromWishlistAfterAddedToCart,h=e.removeAlreadyAddedProductFromWishlist,f=e.successModalClasses,m=e.alertModalClasses,y=e.errorModalClasses,W=e.addedToWishlistModalIcon,b=e.removedFromWishlistModalIcon,p=e.successModalIcon,_=e.alertModalIcon,w=e.errorModalIcon,g=e.addedToWishlistModalMessage,v=e.alreadyInWishlistModalMessage,B=e.productRemovedFormWishlistModalMessage,C=e.wishlistEmptyingConfirmationModalMessage,M=e.wishlistLinkModalButton,T=e.emptyWishlistConfirmModalButton,j=0,L="",O="",I="",S="",J="",A="",R="",D={loader:addonifyWishlistJSObject.loader,wishlistPageURL:addonifyWishlistJSObject.wishlistPageURL,saveForLaterButtonLabel:addonifyWishlistJSObject.saveForLaterButtonLabel,savedForLaterButtonLabel:addonifyWishlistJSObject.savedForLaterButtonLabel,initialAddToWishlistButtonLabel:addonifyWishlistJSObject.initialAddToWishlistButtonLabel,addedToWishlistButtonLabel:addonifyWishlistJSObject.addedToWishlistButtonLabel,alreadyInWishlistButtonLabel:addonifyWishlistJSObject.alreadyInWishlistButtonLabel,addToWishlistButtonIcon:addonifyWishlistJSObject.addToWishlistButtonIcon,addedToWishlistButtonIcon:addonifyWishlistJSObject.addedToWishlistButtonIcon,loadingWishlistButtonIcon:addonifyWishlistJSObject.loadingWishlistButtonIcon,undoNoticeTimeout:addonifyWishlistJSObject.undoNoticeTimeout,addedToWishlistModal:addonifyWishlistJSObject.addedToWishlistModal,removedFromWishlistModal:addonifyWishlistJSObject.removedFromWishlistModal,afterAddToWishlistAction:addonifyWishlistJSObject.afterAddToWishlistAction,productRemovalUndoNotice:addonifyWishlistJSObject.productRemovalUndoNotice,modalTemplate:addonifyWishlistJSObject.modalTemplate},F=i.addonifyWishlistInit(D);function P(){t(document).trigger("addonify_adding_to_wishlist",[{thisButton:O}]);var i={action:l,product_id:j,nonce:a};o.length>0&&(i.has_wishlist_sidebar=!0),d.length>0&&(i.has_wishlist_table=!0),t.post(n,i).done((function(i){1==i.success?(R=f,J=g,S=W,A=M,t(document).trigger("addonify_added_to_wishlist",[{productID:j,itemsCount:i.itemsCount,thisButton:O,modalContentUpdateData:E()}]),i.hasOwnProperty("sidebarProductRowContent")&&F.addWishlistSidebarProductRow(i.sidebarProductRowContent),i.hasOwnProperty("tableProductRowContent")&&F.addWishlistTableProductRow(i.tableProductRowContent)):N(y,w,i.message)})).always((function(){F.hideLoader(),H()}))}function k(){t(document).trigger("addonify_removing_from_wishlist",[{thisButton:I}]),t.post(n,{action:c,product_id:j,nonce:a}).done((function(i){i.success?(R=f,J=B,S=b,t(document).trigger("addonify_removed_from_wishlist",[{productID:j,productName:L,itemsCount:i.itemsCount,thisButton:I,modalContentUpdateData:E()}])):N(y,w,i.message)})).always((function(){F.hideLoader(),H()}))}function U(t){j=t.data("product_id"),L=t.data("product_name")}function E(){return{modal_icon:S,modal_message:J,modal_button:A,modal_container_classes:R,product_name:L}}function H(){A="",S="",R="",J=""}function N(t,i,o){R=t,S=i,J=o,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",F.displayModal(E()),H()}F.init(),{init:function(){this.wishlistButtonEventHandler(),this.undoEventsHandler(),this.addedToCartEventHandler()},wishlistButtonEventHandler:function(){"1"!==s&&(i.on("click",".addonify-wishlist-ajax-add-to-wishlist, .addonify-add-to-wishlist-btn",(function(t){t.preventDefault(),(O=jQuery(this)).addClass("loading"),U(O),O.hasClass("added-to-wishlist")?"1"===h?(I=O,k()):N(f,W,v,M):P(),O.removeClass("loading")})),i.on("click",".addonify-wishlist-ajax-remove-from-wishlist",(function(i){i.preventDefault(),U(I=t(this)),k()})),t(document).on("click","#addonify-wishlist__clear-all",(function(t){t.preventDefault(),N(m,_,C,T)})),t(document).on("click","#adfy-empty-wishlist-confirm-button",(function(i){i.preventDefault(),F.displayLoader(),t.post(n,{action:r,nonce:a}).done((function(i){i.success?(t(document).trigger("addonify_wishlist_emptied"),N(f,p,i.message)):N(y,w,i.message)})).always((function(){F.hideLoader(),H()}))})))},undoEventsHandler:function(){"1"!==s&&i.on("click","#addonify-wishlist-undo-deleted-product-link",(function(i){i.preventDefault(),O=t(this),P()}))},addedToCartEventHandler:function(){"1"!==s&&t(document).on("added_to_cart",(function(i,o,d,e){"1"===u&&(U(e),R=f,J=B,S=b,t(document).trigger("addonify_removed_from_wishlist",[{productID:e.data("product_id"),productName:e.data("product_name"),itemsCount:o.itemsCount,thisButton:e,modalContentUpdateData:E()}]),H())}))}}.init()}))}));
