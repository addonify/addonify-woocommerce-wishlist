!function(u){"use strict";u(document).ready(function(){const t=u("body"),i=u("#adfy-wl-sidebar-container"),d=u("#addonify-wishlist-table");let o=0,e="",n="",s="";const a=t.addonifyWishlistInit(addonifyWishlistJSObject);function l(){u(document).trigger("addonify_adding_to_wishlist",[{thisButton:n}]);var t={action:addonifyWishlistJSObject.addToWishlistAction,product_id:o,nonce:addonifyWishlistJSObject.nonce};0<i.length&&(t.has_wishlist_sidebar=!0),0<d.length&&(t.has_wishlist_table=!0),u.post(addonifyWishlistJSObject.ajaxURL,t).done(function(t){1==t.success?(u(document).trigger("addonify_added_to_wishlist",[{productID:o,itemsCount:t.itemsCount,thisButton:n,modalContentUpdateData:{product_name:n.data("product_name")}}]),t.hasOwnProperty("sidebarProductRowContent")&&a.addWishlistSidebarProductRow(t.sidebarProductRowContent),t.hasOwnProperty("tableProductRowContent")&&a.addWishlistTableProductRow(t.tableProductRowContent)):a.displayModal(addonifyWishlistJSObject.errorModal,{error_message:t.message})}).always(function(){a.hideLoader()})}function c(){u(document).trigger("addonify_removing_from_wishlist",[{thisButton:s}]),u.post(addonifyWishlistJSObject.ajaxURL,{action:addonifyWishlistJSObject.removeFromWishlistAction,product_id:o,nonce:addonifyWishlistJSObject.nonce}).done(function(t){t.success?u(document).trigger("addonify_removed_from_wishlist",[{productID:o,productName:e,itemsCount:t.itemsCount,thisButton:s,modalContentUpdateData:{product_name:e}}]):a.displayModal(addonifyWishlistJSObject.errorModal,{error_message:t.message})}).always(function(){a.hideLoader()})}function r(t){o=t.data("product_id"),e=t.data("product_name")}a.init(),{init:function(){this.wishlistButtonEventHandler(),this.undoEventsHandler(),this.addedToCartEventHandler()},wishlistButtonEventHandler:function(){"1"!==addonifyWishlistJSObject.enabledMultiWishlist&&(t.on("click",".adfy-wl-ajax-add-to-wishlist, .adfy-wl-add-to-wishlist",function(t){t.preventDefault(),(n=jQuery(this)).addClass("loading"),r(n),n.hasClass("added-to-wishlist")?"1"===addonifyWishlistJSObject.removeAlreadyAddedProductFromWishlist?(s=n,c()):a.displayModal(addonifyWishlistJSObject.alreadyInWishlistModal):l(),n.removeClass("loading")}),t.on("click",".addonify-wishlist-ajax-remove-from-wishlist",function(t){t.preventDefault(),r(s=u(this)),c()}),u(document).on("click","#addonify-wishlist__clear-all",function(t){t.preventDefault(),a.displayModal(addonifyWishlistJSObject.confirmClearWishlistModal)}),u(document).on("click","#adfy-wl-modal-confirm-clear-wl-btn",function(t){t.preventDefault(),a.displayLoader(),u.post(addonifyWishlistJSObject.ajaxURL,{action:addonifyWishlistJSObject.emptyWishlistAction,nonce:addonifyWishlistJSObject.nonce}).done(function(t){t.success?(u(document).trigger("addonify_wishlist_emptied"),a.displayModal(addonifyWishlistJSObject.successModal,{success_message:t.message})):a.displayModal(addonifyWishlistJSObject.errorModal,{error_message:t.message})}).always(function(){a.hideLoader()})}))},undoEventsHandler:function(){"1"!==addonifyWishlistJSObject.enabledMultiWishlist&&t.on("click","#addonify-wishlist-undo-deleted-product-link",function(t){t.preventDefault(),n=u(this),l()})},addedToCartEventHandler:function(){"1"!==addonifyWishlistJSObject.enabledMultiWishlist&&u(document).on("added_to_cart",function(t,i,d,o){"1"===addonifyWishlistJSObject.removeFromWishlistAfterAddedToCart&&(r(o),u(document).trigger("addonify_removed_from_wishlist",[{productID:o.data("product_id"),productName:o.data("product_name"),itemsCount:i.itemsCount,thisButton:o,modalContentUpdateData:{product_name:o.data("product_name")}}]))})}}.init()})}(jQuery);