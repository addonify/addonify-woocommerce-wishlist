!function(l){l.fn.addonifyWishlistInit=function(d){const e=l("body");let s;const n={init:function(){n.toggleModalBackgrounds(),n.wishlistEvents(),n.undoEvent()},displayModal:function(t,s={}){if(0<Object.keys(s).length)for(const d in s){var a=s[d];t=t.includes(`{${d}}`)?t.replace(`{${d}}`,a):t.replace(`{${d}}`,"")}var i=l("#adfy-wl-modal-content-wrapper");0<i.length?i.replaceWith(t):e.append(t),e.hasClass("adfy-wl-modal-content-is-open")||e.toggleClass("adfy-wl-modal-content-is-open")},toggleModalBackgrounds:function(){e.on("click","#addonify-wishlist-close-modal-btn, #adfy-wl-modal-content-overlay",function(){e.toggleClass("adfy-wl-modal-content-is-open"),n.hideLoader()}),e.on("click","#adfy-wl-sidebar-toggle-btn, #adfy-wl-sidebar-close-btn, #adfy-wl-sidebar-overlay",function(){e.toggleClass("addonify-wishlist-sticky-sidebar-is-visible")})},wishlistEvents:function(){l(document).on("addonify_adding_to_wishlist",function(t,s){n.displayLoader(),0<s.thisButton.find("span.adfy-wl-btn-icon").length&&s.thisButton.find("span.adfy-wl-btn-icon").html(d.loadingWishlistButtonIcon)}),l(document).on("addonify_removing_from_wishlist",function(t,s){n.displayLoader(),0<s.thisButton.find("span.adfy-wl-btn-icon").length&&s.thisButton.find("span.adfy-wl-btn-icon").html(d.loadingWishlistButtonIcon)}),l(document).on("addonify_added_to_wishlist",function(t,i){var s;n.renderUndoNotice(!1),i.hasOwnProperty("thisButton")&&"redirect_to_wishlist_page"===d.afterAddToWishlistAction&&i.thisButton.hasClass("adfy-wl-add-to-wishlist")?window.location.href=d.wishlistPageURL:(i.hasOwnProperty("thisButton")&&i.hasOwnProperty("modalContentUpdateData")&&"show_popup_notice"===d.afterAddToWishlistAction&&i.thisButton.hasClass("adfy-wl-add-to-wishlist")&&n.displayModal(d.addedToWishlistModal,i.modalContentUpdateData),i.hasOwnProperty("productID")&&0<(s=l("button[data-product_id="+i.productID+"]")).length&&s.each(function(){var t=l(this),s=i.hasOwnProperty("wishlistID")?i.wishlistID:"",a=i.hasOwnProperty("wishlistName")?i.wishlistName:"";n.updateWishlistButtons(t,"added-to-wishlist",s,a)}),i.hasOwnProperty("itemsCount")&&(n.updateWishlistSidebarElements(i.itemsCount),n.updateWishlistTableElements(i.itemsCount),n.updateWishlistIconElements(i.itemsCount)))}),l(document).on("addonify_removed_from_wishlist",function(t,i){var s;i.hasOwnProperty("thisButton")&&i.hasOwnProperty("modalContentUpdateData")&&void 0!==i.thisButton&&i.thisButton.hasClass("adfy-wl-add-to-wishlist")&&n.displayModal(d.removedFromWishlistModal,i.modalContentUpdateData),i.hasOwnProperty("productID")&&(0<(s=l("[data-product_id="+i.productID+"]")).length&&s.each(function(){var t=l(this),s=i.hasOwnProperty("wishlistID")?i.wishlistID:"",a=i.hasOwnProperty("wishlistName")?i.wishlistName:"";n.updateWishlistButtons(t,"removed-from-wishlist",s,a)}),n.removeWishlistSidebarTableProductRow(i.productID)),i.hasOwnProperty("itemsCount")&&(n.updateWishlistSidebarElements(i.itemsCount),n.updateWishlistTableElements(i.itemsCount),n.updateWishlistIconElements(i.itemsCount)),i.hasOwnProperty("productName")&&n.renderUndoNotice(!0,i.productName)}),l(document).on("addonify_wishlist_emptied",function(t){t.preventDefault(),n.renderUndoNotice(!1),n.updateWishlistSidebarElements(0),n.updateWishlistTableElements(0),n.updateWishlistIconElements(0)})},updateWishlistButtons:function(s,t,a="",i=""){if("added-to-wishlist"===t||"already-in-wishlist"===t){if(s.hasClass("added-to-wishlist")||s.addClass("added-to-wishlist"),!s.hasClass("addonify-custom-wishlist-btn")&&s.hasClass("adfy-wl-add-to-wishlist"))if(s.find("span.adfy-wl-btn-icon").html(d.addedToWishlistButtonIcon),s.hasClass("addonify-wishlist-save-for-later"))s.find("span.adfy-wl-add-to-wislist-label").text(d.savedForLaterButtonLabel);else if("added-to-wishlist"===t){let t=d.addedToWishlistButtonLabel;t.includes("{wishlist_name}")&&(t=t.replace("{wishlist_name}",i)),s.data("added_to_wishlist_button_label")?s.find("span.adfy-wl-add-to-wislist-label").text(s.data("added_to_wishlist_button_label")):s.find("span.adfy-wl-add-to-wislist-label").text(t)}else{let t=d.alreadyInWishlistButtonLabel;t.includes("{wishlist_name}")&&(t=t.replace("{wishlist_name}",i)),s.data("already_in_wishlist_button_label")?s.find("span.adfy-wl-add-to-wislist-label").text(s.data("already_in_wishlist_button_label")):s.find("span.adfy-wl-add-to-wislist-label").text(t)}""!==a&&s.attr("data-wishlist_id",a),""!==i&&s.attr("data-wishlist_name",i)}"removed-from-wishlist"===t&&(s.hasClass("added-to-wishlist")&&s.removeClass("added-to-wishlist"),!s.hasClass("addonify-custom-wishlist-btn")&&s.hasClass("adfy-wl-add-to-wishlist")&&(s.find("span.adfy-wl-btn-icon").html(d.addToWishlistButtonIcon),s.hasClass("addonify-wishlist-save-for-later")?s.find("span.adfy-wl-add-to-wislist-label").text(d.saveForLaterButtonLabel):s.hasClass("adfy-wishlist-shortcode-btn")&&s.data("button_label")?s.find("span.adfy-wl-add-to-wislist-label").text(s.data("button_label")):s.find("span.adfy-wl-add-to-wislist-label").text(d.initialAddToWishlistButtonLabel)),void 0!==(a=s.attr("data-wishlist_id"))&&!1!==a&&s.removeAttr("data-wishlist_id"),void 0!==(i=s.attr("data-wishlist_name")))&&!1!==i&&s.removeAttr("data-wishlist_name")},addWishlistSidebarProductRow:function(t){var s=l("#adfy-wl-sidebar-content");0<s.length&&s.prepend(t)},addWishlistTableProductRow:function(t){var s=l("#adfy-wl-table-body");0<s.length&&s.prepend(t)},removeWishlistSidebarTableProductRow:function(t){let s="";0<l("#adfy-wl-sidebar-container").length&&(s=l("#adfy-wishlist-sidebar-product-row-"+t)),0<(s=0<l("#addonify-wishlist-table").length?l("#adfy-wishlist-table-product-row-"+t):s).length&&s.remove()},updateWishlistSidebarElements:function(t){var s;0<l("#adfy-wl-sidebar-container").length&&(0<(s=l("#adfy-wl-sidebar-toggle-btn")).length&&(0<t?s.removeClass("hidden"):s.addClass("hidden")),0<(s=l("#adfy-wl-no-items")).length)&&(0<t?s.removeClass("adfy-wl-show").addClass("adfy-wl-hide"):s.removeClass("adfy-wl-hide").addClass("adfy-wl-show"))},updateWishlistTableElements:function(t){var s,a;0<l("#adfy-wl-content-wrapper").length&&(s=l("#adfy-wl-form"),a=l("#adfy-wl-no-items"),0<t?(s.addClass("adfy-wl-show").removeClass("adfy-wl-hide"),a.addClass("adfy-wl-hide").removeClass("adfy-wl-show")):(s.addClass("adfy-wl-hide").removeClass("adfy-wl-show"),a.addClass("adfy-wl-show").removeClass("adfy-wl-hide")))},updateWishlistIconElements:function(t){0<l(".adfy_wishlist-icon-shortcode-btn").length&&l(".adfy_wishlist-icon-shortcode-btn").find(".adfy_wishlist-icon-items-count").text(t)},undoEvent:function(){l(document).on("addonify_wishlist_undo_notice_set",function(t){clearTimeout(s),0<parseInt(d.undoNoticeTimeout)&&(s=setTimeout(function(){l("#adfy-wl-notice").html("")},1e3*parseInt(d.undoNoticeTimeout)))})},displayLoader:function(){0<l("#adfy-wl-sidebar-container").length&&l("#adfy-wl-sidebar-container").append(d.loader),0<l("#adfy-wl-content-wrapper").length&&l("#adfy-wl-content-wrapper").append(d.loader)},hideLoader:function(){l("#addonify-wishlist_spinner")&&l("#addonify-wishlist_spinner").remove()},displayModalLoader:function(){0<l(".adfy-wl-modal-content-btns").length&&l(".adfy-wl-modal-content-btns").append(d.loader)},renderUndoNotice:function(t=!1,s=""){var a=l("#adfy-wl-notice");if(0<a.length)if(t){let t=d.productRemovalUndoNotice;t.includes("{product_name}")&&""!==s&&void 0!==s&&(t=t.replace("{product_name}",s)),a.html(t),l(document).trigger("addonify_wishlist_undo_notice_set")}else a.html("")}};return n}}(jQuery);